
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Menú Principal - Sistema de Pedidos</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<h1>Sistema de Pedidos</h1>
	<div id="menu-container"></div>
	<hr>
	<div id="view-container"></div>
	<script src="env.js"></script>
	<script src="scripts.js"></script>
	<script>
		// Carga el menú
		fetch('menu.html')
			.then(r => r.text())
			.then(html => {
				document.getElementById('menu-container').innerHTML = html;
			});

		// SPA: carga la vista seleccionada
		function loadView(view) {
			fetch(view + '.html')
				.then(r => r.text())
				.then(html => {
					document.getElementById('view-container').innerHTML = html;
					if (window.initView && typeof window.initView === 'function') {
						try { window.initView(view); } catch (err) { console.error('initView error:', err); }
					}
				});
		}

		// Carga vista por hash al cargar la página
		window.addEventListener('DOMContentLoaded', () => {
			const hash = window.location.hash.replace('#', '');
			if (hash) loadView(hash);
		});
		window.addEventListener('hashchange', () => {
			const hash = window.location.hash.replace('#', '');
			if (hash) loadView(hash);
		});
	</script>
</body>
</html>
